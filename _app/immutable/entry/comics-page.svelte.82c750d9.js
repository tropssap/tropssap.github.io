import{S as B,i as N,s as R,k as w,q as P,a as j,l as y,m as D,r as b,h as k,c as I,n as m,L as q,b as T,E as u,M as z,u as M,F as U,N as A,w as F,y as G,z as H,A as O,g as V,d as J,B as K,o as Q}from"../chunks/index.65f13941.js";function W(t){let e,n,a,o,i,c,_,s,d,h,p,f,v,r,L;return{c(){e=w("div"),n=w("h2"),a=P(t[1]),o=j(),i=w("p"),c=P(t[2]),_=j(),s=w("img"),p=j(),f=w("button"),v=P("Look for new comic"),this.h()},l(g){e=y(g,"DIV",{id:!0,class:!0});var l=D(e);n=y(l,"H2",{class:!0});var E=D(n);a=b(E,t[1]),E.forEach(k),o=I(l),i=y(l,"P",{class:!0});var S=D(i);c=b(S,t[2]),S.forEach(k),_=I(l),s=y(l,"IMG",{src:!0,alt:!0,class:!0}),p=I(l),f=y(l,"BUTTON",{class:!0});var C=D(f);v=b(C,"Look for new comic"),C.forEach(k),l.forEach(k),this.h()},h(){m(n,"class","title svelte-1y0rujk"),m(i,"class","date svelte-1y0rujk"),q(s.src,d=t[0].src)||m(s,"src",d),m(s,"alt",h=t[0].alt),m(s,"class","comic svelte-1y0rujk"),m(f,"class","svelte-1y0rujk"),m(e,"id","imageContainer"),m(e,"class","svelte-1y0rujk")},m(g,l){T(g,e,l),u(e,n),u(n,a),u(e,o),u(e,i),u(i,c),u(e,_),u(e,s),t[4](s),u(e,p),u(e,f),u(f,v),r||(L=z(f,"click",function(){A(t[3])&&t[3].apply(this,arguments)}),r=!0)},p(g,[l]){t=g,l&2&&M(a,t[1]),l&4&&M(c,t[2]),l&1&&!q(s.src,d=t[0].src)&&m(s,"src",d),l&1&&h!==(h=t[0].alt)&&m(s,"alt",h)},i:U,o:U,d(g){g&&k(e),t[4](null),r=!1,L()}}}function X(t,e,n){let{title:a}=e,{date:o}=e,{imgParams:i}=e,{comicDownload:c}=e;function _(s){F[s?"unshift":"push"](()=>{i.comicImg=s,n(0,i)})}return t.$$set=s=>{"title"in s&&n(1,a=s.title),"date"in s&&n(2,o=s.date),"imgParams"in s&&n(0,i=s.imgParams),"comicDownload"in s&&n(3,c=s.comicDownload)},[i,a,o,c,_]}class Y extends B{constructor(e){super(),N(this,e,X,W,R,{title:1,date:2,imgParams:0,comicDownload:3})}}function Z(t){let e,n;return e=new Y({props:{title:t[0],date:t[1],comicDownload:t[5],imgParams:{src:t[2],alt:t[3],comicImg:t[4]}}}),{c(){G(e.$$.fragment)},l(a){H(e.$$.fragment,a)},m(a,o){O(e,a,o),n=!0},p(a,[o]){const i={};o&1&&(i.title=a[0]),o&2&&(i.date=a[1]),o&12&&(i.imgParams={src:a[2],alt:a[3],comicImg:a[4]}),e.$set(i)},i(a){n||(V(e.$$.fragment,a),n=!0)},o(a){J(e.$$.fragment,a),n=!1},d(a){K(e,a)}}}function x(t,e,n){let a,o,i,c,_;async function s(){const d=new URLSearchParams({email:"d.igolinskiy@innopolis.university"}),p=await(await fetch(`https://fwd.innopolis.app/api/hw2?${d}`)).json(),f=new URLSearchParams({num:p}),r=await(await fetch(`https://getxkcd.vercel.app/api/comic?${f}`)).json();n(2,i=r.img),n(3,c=r.alt),n(0,a=r.title),n(1,o=new Date(+r.year,+r.month-1,+r.day).toLocaleDateString())}return Q(async()=>{await s()}),[a,o,i,c,_,s]}class ee extends B{constructor(e){super(),N(this,e,x,Z,R,{})}}export{ee as default};
